*,*::before,*::after{box-sizing:border-box}
html:focus-within{scroll-behavior:smooth}
body{margin:0;min-height:100vh;text-rendering:optimizeLegibility}
img,video{max-width:100%;height:auto;display:block}
button,input,textarea,select{font:inherit;color:inherit}
a{color:inherit;text-decoration:none}
:focus-visible{outline:2px solid var(--primary);outline-offset:3px}
.sr-only{position:absolute;left:-9999px}

@media (pointer:fine){
  *{cursor:none!important}
}

::selection{background:var(--brand-rose-300);color:var(--brand-emerald-900)}
html[data-theme="light"] ::selection{background:#A8C3BC;color:#2E2E2E}

/* === Design tokens === */
:root{
  --brand-blush-100:#F2E0DF;
  --brand-mint-200:#BDCDCF;
  --brand-rose-300:#E3B8B8;
  --brand-emerald-700:#034C36;
  --brand-emerald-900:#003332;
  --brand-accent-500:#FF8128;

  --bg: var(--brand-emerald-900); --fg:#FAF9F6; --card:color-mix(in srgb,var(--brand-emerald-900) 88%, var(--brand-emerald-700)); --border:color-mix(in srgb,var(--brand-mint-200) 40%, transparent);
  --primary: var(--brand-accent-500); --primary-strong: var(--brand-rose-300); --muted:var(--brand-mint-200);

  --ff-ui:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  --ff-title:'Space Grotesk',var(--ff-ui);
  --fs-hero:clamp(1.9rem,4vw,3rem); --fs-h1:clamp(1.75rem,3vw,2.5rem); --fs-h2:clamp(1.5rem,2.2vw,2rem);
  --fs-body:1rem; --fs-sm:.95rem; --fs-xs:.875rem; --lh-tight:1.15; --lh-normal:1.6;

  --radius-sm:8px; --radius-md:14px; --radius-lg:24px; --radius-pill:9999px;
  --shadow-1:0 8px 24px rgba(0,51,50,.14); --shadow-2:0 12px 32px rgba(0,51,50,.18);

  --ease-smooth:cubic-bezier(.22,.61,.36,1);
  --dur-fast:160ms; --dur-med:220ms; --dur-slow:320ms;

  --hero-min:64vh; /* desktop recalculé via JS */
  --header-h: 64px;
}

/* Thème clair (Neo Sage) */
html[data-theme="light"]{
  --bg:#f5f5f0; --fg:#3e3e3e; --card:#f8f3ed; --border:color-mix(in srgb,#d2d2c8 60%, transparent);
  --primary:#8a9654; --primary-strong:#aeb86e; --muted:#aeb86e;
}

/* === Layout === */
body{font-family:var(--ff-ui);color:var(--fg);
  background:
  radial-gradient(1200px 800px at 15% -10%, rgba(255,129,40,.15), transparent 60%),
  radial-gradient(1000px 700px at 100% 0%, rgba(242,224,223,.08), transparent 50%),
  var(--bg);
  background-attachment:fixed;
}
html[data-theme="light"] body{
  background:
  radial-gradient(1200px 800px at 15% -10%, rgba(138,150,84,.15), transparent 60%),
  radial-gradient(1000px 700px at 100% 0%, rgba(174,184,110,.08), transparent 50%),
  var(--bg);
}
.container{max-width:1160px;margin-inline:auto;padding:0 16px}
.section{padding:clamp(48px,7vw,96px) 0}
.section .full{grid-column:1/-1}
h1,h2,h3{font-family:var(--ff-title);line-height:var(--lh-tight);margin:0 0 16px}
p{line-height:var(--lh-normal);margin:0 0 16px;font-size:var(--fs-body)}
.hero-title{font-size:var(--fs-hero)}
.skip-link{position:absolute;left:-9999px}
.skip-link:focus{left:16px;top:16px;background:var(--card);padding:.5rem;border-radius:8px}

/* === Top overlay === */
.top-left{position:fixed;top:16px;left:16px;z-index:20;display:flex;align-items:center;gap:.5rem}
.logo{font-family:var(--ff-title);font-weight:700;letter-spacing:.02em;background:linear-gradient(90deg,var(--brand-rose-300),var(--brand-mint-200));-webkit-background-clip:text;background-clip:text;color:transparent;font-size:1.25rem}

.top-actions{position:fixed;top:16px;right:16px;z-index:20;display:flex;align-items:center;gap:.5rem}
.lang-select{padding-top:0;padding-bottom:0;font-size:.95rem;height:40px;line-height:40px;appearance:none;display:flex;align-items:center}
.menu-toggle{display:inline-grid;place-items:center;background:transparent;border:1px solid var(--border);border-radius:8px;width:40px;height:30px}
.menu-toggle .bar{display:block;width:18px;height:2px;background:currentColor;border-radius:2px}
.menu-toggle .bar+.bar{margin-top:4px}
@media (min-width:900px){.menu-toggle{display:none}}

.mobile-nav{position:fixed;inset:0;z-index:15;display:flex;align-items:center;justify-content:center;background:color-mix(in srgb, var(--bg) 88%, transparent);backdrop-filter:saturate(1.3) blur(8px);transform:translateY(-100%);transition:transform var(--dur-med) var(--ease-smooth)}
.mobile-nav ul{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:1.2rem;text-align:center}
.menu-open .mobile-nav{transform:translateY(0)}
body.menu-open{overflow:hidden}
body.menu-open .top-left,body.menu-open .top-actions{visibility:hidden}

/* === Hero === */
.hero{position:relative;min-height:var(--hero-min);display:grid;place-items:center;overflow:hidden}
#bg-canvas{position:fixed;inset:0;width:100%;height:100%;z-index:-1;pointer-events:none}
.hero-inner{position:relative;text-align:center;z-index:1;padding:40px 0}
.hero-sub{max-width:60ch;margin-inline:auto;color:var(--muted)}

/* === Highlights === */
#highlights{margin-top:-20px}
.cards-3{display:grid;grid-template-columns:1fr;gap:16px}
.cards-3 .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:24px;box-shadow:var(--shadow-1)}
@media (min-width: 720px){.cards-3{grid-template-columns:repeat(3,1fr)}}

/* === About === */
.split{display:grid;grid-template-columns:1fr;gap:32px}
.about-media{position:relative;justify-self:center;max-width:180px}
.about-media picture,.about-media img{border-radius:24px}
.about-media img{border:1px solid var(--border);box-shadow:var(--shadow-1);width:100%;height:auto}
.about-media::after{content:"";position:absolute;inset:-2px;border-radius:inherit;background:linear-gradient(180deg,var(--brand-mint-200),var(--brand-emerald-700));opacity:.35;z-index:-1;filter:blur(8px)}
@media (min-width: 900px){.split{grid-template-columns:30% 70%;align-items:center}.about-media{max-width:320px}}

/* === Skills === */
.skills-grid{display:grid;grid-template-columns:1fr;gap:24px}
.skill-badges{display:grid;gap:.5rem;padding:0;margin:0;list-style:none}
.skill-badges li{display:flex;align-items:center;justify-content:space-between;background:var(--card);border:1px solid var(--border);border-radius:8px;padding:.5rem .75rem}
meter{width:46%;height:12px}
meter::-webkit-meter-bar{background:color-mix(in srgb, var(--card), var(--fg) 8%);border-radius:999px}
meter::-webkit-meter-optimum-value{background:linear-gradient(to right,var(--brand-emerald-700), var(--brand-accent-500));border-radius:999px}
meter:-moz-meter-optimum::-moz-meter-bar{background:linear-gradient(to right,var(--brand-emerald-700), var(--brand-accent-500))}
html[data-theme="light"] meter::-webkit-meter-optimum-value{background:linear-gradient(to right,var(--primary), var(--brand-accent-500))}
html[data-theme="light"] meter:-moz-meter-optimum::-moz-meter-bar{background:linear-gradient(to right,var(--primary), var(--brand-accent-500))}

/* === Projects === */
.section-head{display:flex;flex-wrap:wrap;gap:1rem;align-items:center;justify-content:space-between;margin-bottom:24px}
.filters{display:flex;gap:.5rem;flex-wrap:wrap}
.chip{border:1px solid var(--border);background:transparent;border-radius:9999px;padding:.35rem .75rem;transition:transform var(--dur-fast) var(--ease-smooth), background var(--dur-fast)}
.chip:hover{background:color-mix(in srgb, var(--card), transparent 30%)}
.chip.is-active{background:var(--primary);border-color:var(--primary);color:#FAF9F6}
.grid{display:grid;grid-template-columns:1fr;gap:16px}
@media (min-width: 720px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (min-width: 1024px){.grid{grid-template-columns:repeat(3,1fr)}}

.project-card{position:relative;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px}
.project-card.is-hidden{display:none !important}
.project-media{height:140px;border-radius:8px;
  background:
    linear-gradient(180deg,var(--brand-blush-100),var(--brand-rose-300),var(--brand-accent-500)),
    repeating-linear-gradient(45deg, rgba(0,51,50,.06) 0, rgba(0,51,50,.06) 12px, transparent 12px, transparent 24px);
  position:relative;overflow:hidden;margin-bottom:12px}
.project-media::before{content:attr(data-badge);position:absolute;right:12px;bottom:10px;font-weight:700;opacity:.9}
.project-media::after{content:"BR";position:absolute;left:12px;top:10px;font-family:var(--ff-title);font-weight:700;opacity:.09;font-size:48px;letter-spacing:2px}
.project-card .overlay{position:absolute;inset:0;border-radius:inherit;display:flex;align-items:flex-end;justify-content:flex-end;padding:16px;opacity:0;transition:opacity var(--dur-med);background:linear-gradient(180deg, transparent 50%, rgba(0,51,50,.35))}
.project-card:hover .overlay{opacity:1}

/* Modal */
.modal{position:fixed;inset:0;display:none;place-items:center}
.modal[aria-hidden="false"]{display:grid}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,51,50,.45)}
.modal-dialog{position:relative;z-index:1;max-width:760px;margin:0;background:var(--card);border:1px solid var(--border);border-radius:24px;padding:24px}
.modal-close{position:absolute;right:8px;top:8px;border:1px solid var(--border);background:transparent;border-radius:8px;padding:.25rem .5rem}

/* === Contact === */
.contact-form{display:flex;flex-wrap:wrap;gap:16px}
.form-field{display:grid;gap:.5rem}
.form-field.full{grid-column:1/-1}
.hp{display:none}
.consent{display:flex;gap:.5rem;align-items:flex-start}
.actions{margin-top:8px}